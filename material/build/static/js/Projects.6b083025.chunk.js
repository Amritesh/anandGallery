(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{752:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p});var r=n(760),a=n(758),c=n.n(a),o=n(106),i=n(88),u=n(20),l=c()({}),s=Object(o.a)(),d=Object(r.connectedRouterRedirect)({redirectPath:"/login",AuthenticatingComponent:i.a,wrapperDisplayName:"UserIsAuthenticated",authenticatedSelector:function(e){var t=e.firebase.auth;return!t.isEmpty&&!!t.uid},authenticatingSelector:function(e){var t=e.firebase,n=t.auth,r=t.isInitializing;return!n.isLoaded||r},redirectAction:function(e){return function(t){s.push(e),t({type:"UNAUTHED_REDIRECT",payload:{message:"User is not authenticated."}})}}}),p=Object(r.connectedRouterRedirect)({AuthenticatingComponent:i.a,wrapperDisplayName:"UserIsNotAuthenticated",allowRedirectBack:!1,authenticatedSelector:function(e){return e.firebase.auth.isEmpty},authenticatingSelector:function(e){var t=e.firebase,n=t.auth,r=t.isInitializing;return!n.isLoaded||r},redirectPath:function(e,t){return l.getRedirectQueryParam(t)||u.b},redirectAction:function(e){return function(t){s.push(e),t({type:"AUTHED_REDIRECT",payload:{message:"User is not authenticated."}})}}})},754:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return o});var r="account",a="login",c="signup",o="newProject"},757:function(e,t,n){"use strict";function r(e){return e?void 0:"Required"}function a(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},855:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(27),o=n(853),i=n(864),u=n(49),l={path:":projectId",component:Object(u.a)({loader:function(){return n.e(7).then(n.bind(null,860))}})},s=n(103),d=n.n(s),p=n(83),f=n.n(p),m=n(826),h=n.n(m),b=n(831),j=n.n(b),g=function(e){var t=e.name,n=e.onSelect,r=e.onDelete,c=e.showDelete,o=e.classes;return a.a.createElement(d.a,{className:o.root},a.a.createElement("div",{className:o.top},a.a.createElement("span",{className:o.name,onClick:n},t||"No Name"),c&&r?a.a.createElement(h.a,{title:"delete"},a.a.createElement(f.a,{onClick:r},a.a.createElement(j.a,null))):null))};g.defaultProps={showDelete:!0};var w=g,E=n(23),v=Object(E.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"flex-start",height:"200px",width:"300px",margin:.5*e.spacing.unit,padding:1.3*e.spacing.unit},top:{display:"flex",justifyContent:"space-between",width:"100%"},name:{fontSize:"1.5rem",cursor:"pointer",textDecoration:"none",transition:"all 800ms cubic-bezier(0.25,0.1,0.25,1) 0ms",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",":hover":{color:""},":visited":{textDecoration:"none"}}}})(w),y=n(832),O=n.n(y),C={width:"6rem",height:"6rem"},x=function(e){var t=e.onClick,n=e.classes;return a.a.createElement(d.a,{className:n.root,onClick:t},a.a.createElement(O.a,{style:C}))},S=n(34),D=Object(E.withStyles)(function(e){return{root:Object(S.a)({},e.flexRowCenter,{alignItems:"center",cursor:"pointer",height:"200px",width:"300px",margin:.5*e.spacing.unit,padding:1.3*e.spacing.unit,overflow:"hidden"})}})(x),P=n(170),N=n.n(P),R=n(833),k=n.n(R),A=n(835),I=n.n(A),T=n(839),U=n.n(T),q=n(837),z=n.n(q),B=n(857),Z=n(759),_=n(757),H=function(e){var t=e.classes,n=e.handleSubmit,r=e.open,c=e.onRequestClose;return a.a.createElement(k.a,{open:r,onClose:c},a.a.createElement(I.a,{id:"new-project-dialog-title"},"New Project"),a.a.createElement("form",{onSubmit:n,className:t.inputs},a.a.createElement(z.a,null,a.a.createElement(B.a,{name:"name",component:Z.TextField,label:"Project Name",validate:[_.a]})),a.a.createElement(U.a,null,a.a.createElement(N.a,{onClick:c,color:"secondary"},"Cancel"),a.a.createElement(N.a,{type:"submit",color:"primary"},"Create"))))},J=n(9),L=n(854),M=n(754),Y=Object(J.b)(Object(L.a)({form:M.c,onSubmitSuccess:function(e,t,n){return n.reset()}}),Object(E.withStyles)(function(e){return{root:{padding:2*e.spacing.unit},inputs:Object(S.a)({},e.flexColumnCenter),buttons:Object(S.a)({},e.flexColumnCenter)}}))(H),F=function(e){var t=e.projects,n=(e.collabProjects,e.auth),r=e.newDialogOpen,u=e.toggleDialog,s=e.deleteProject,d=e.addProject,p=e.classes,f=e.match,m=e.goToProject;return a.a.createElement(i.a,null,function(e,t,n){return e.map(function(e){return a.a.createElement(o.a,{key:"".concat(t.url,"-").concat(e.path),path:"".concat(t.url,"/").concat(e.path),render:function(t){return a.a.createElement(e.component,Object.assign({},n,t))}})})}([l],f,{auth:n}),a.a.createElement(o.a,{exact:!0,path:f.path,render:function(){return a.a.createElement("div",{className:p.root},a.a.createElement(Y,{onSubmit:d,open:r,onRequestClose:u}),a.a.createElement("div",{className:p.tiles},a.a.createElement(D,{onClick:u}),!Object(c.isEmpty)(t)&&t.map(function(e,t){return a.a.createElement(v,{key:"Project-".concat(e.id,"-").concat(t),name:e.name,onSelect:function(){return m(e.id)},onDelete:function(){return s(e.id)}})})))}}))},G=n(50),Q=n(55),V=n(20),W=n(865),$=n(105),K=n(752),X=Object(G.d)(K.a,Object(Q.connect)(function(e){return{uid:e.firebase.auth.uid}}),Object(u.b)(["uid"]),Object(c.firebaseConnect)(function(e){e.params;var t=e.uid;return[{path:"projects",queryParams:["orderByChild=createdBy","equalTo=".concat(t)]}]}),Object(Q.connect)(function(e){return{projects:e.firebase.ordered.projects}}),Object(u.b)(["projects"]),W.a,$.c,Object(J.k)(function(e){var t=e.initialDialogOpen;return{newDialogOpen:void 0!==t&&t}},{toggleDialog:function(e){var t=e.newDialogOpen;return function(){return{newDialogOpen:!t}}}}),Object(J.h)({addProject:function(e){return function(t){var n=e.firebase,r=e.uid,a=e.showError,c=e.showSuccess,o=e.toggleDialog;return r?n.push("projects",Object(S.a)({},t,{createdBy:r,createdAt:n.database.ServerValue.TIMESTAMP})).then(function(){o(),c("Project added successfully")}).catch(function(e){return console.error("Error:",e),a(e.message||"Could not add project"),Promise.reject(e)}):a("You must be logged in to create a project")}},deleteProject:function(e){return function(t){var n=e.firebase,r=e.showError,a=e.showSuccess;return n.remove("projects/".concat(t)).then(function(){return a("Project deleted successfully")}).catch(function(e){return console.error("Error:",e),r(e.message||"Could not delete project"),Promise.reject(e)})}},goToProject:function(e){var t=e.history;return function(e){t.push("".concat(V.b,"/").concat(e))}}}),Object(E.withStyles)(function(e){return{root:Object(S.a)({},e.flexColumnCenter,{paddingTop:4*e.spacing.unit,flexGrow:"2",boxSizing:"border-box",overflowY:"scroll"}),tiles:{display:"flex",justifyContent:"center",flexWrap:"wrap","-webkit-flex-flow":"row wrap"}}}));t.default=X(F)}}]);
//# sourceMappingURL=Projects.6b083025.chunk.js.map